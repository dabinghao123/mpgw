<!DOCTYPE html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-control" content="no-cache">
<meta name="format-detection" content="telephone=no">
<meta name="renderer" content="webkit">
<title>krpano上传多张大图时切图过程无响应分析_（带手机版数据同步）高端网站建设网络设计互联网信息化服务类网站织梦模板 软件开发网络工作室网站源码下载 - AB模版网 - Www.AdminBuy.Cn</title>
<meta name="keywords" content="krpano,上传,多,张大,图时,切图,过程,无,响应," />
<meta name="description" content="随着互联网技术及基础设施的发展，很多以前想想都觉得奢侈的场景应用现在都变得非常日常了，比如视频直播、短视频、VR全景等等。就VR全景而已，最近今年在国内的应用非常火，比" />
<link  href="/style/css/common.css" type="text/css" rel="stylesheet"/>
<link  href="/style/css/prettify.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="/style/js/jquery.min.js"></script>
<meta http-equiv="mobile-agent" content="format=xhtml;url=/m/view.php?aid=16">
<script type="text/javascript">if(window.location.toString().indexOf('pref=padindex') != -1){}else{if(/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))){if(window.location.href.indexOf("?mobile")<0){try{if(/Android|Windows Phone|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){window.location.href="/m/view.php?aid=16";}else if(/iPad/i.test(navigator.userAgent)){}else{}}catch(e){}}}}</script>
</head>

<body>
<div  class="header">
  <div class="wp">
    <div class="wps cl">
      <h1><a href="/" rel="home"> <img src="/style/images/logo.png" alt="（带手机版数据同步）高端网站建设网络设计互联网信息化服务类网站织梦模板 软件开发网络工作室网站源码下载 - AB模版网 - Www.AdminBuy.Cn"  height="60"/> </a></h1>      
      <div class="header-tel y"> <span>4008-888-888</span> </div>
      <div class="nav">
        <ul id="menu-csweigounv" class="cl">
          <li><a href="/">首页</a></li>
          <li><a href="/a/about/">关于我们</a>
            <ul class="sub-menu">
              
              <li><a href="/a/about/wenhua/">企业文化</a></li>
              
              <li><a href="/a/about/licheng/">发展历程</a></li>
              
            </ul>
          </li><li><a href="/a/news/">新闻中心</a>
            <ul class="sub-menu">
              
              <li><a href="/a/news/gsxw/">公司新闻</a></li>
              
              <li><a href="/a/news/hyxw/">行业新闻</a></li>
              
            </ul>
          </li><li><a href="/a/work/">作品案例</a>
            <ul class="sub-menu">
              
              <li><a href="/a/work/wzjs/">网站建设</a></li>
              
              <li><a href="/a/work/yxcb/">营销传播</a></li>
              
              <li><a href="/a/work/xxcl/">形象策略</a></li>
              
              <li><a href="/a/work/yxdp/">影像大片</a></li>
              
            </ul>
          </li><li><a href="/a/service/">服务项目</a>
            <ul class="sub-menu">
              
            </ul>
          </li><li><a href="/a/zhishi/">知识在线</a>
            <ul class="sub-menu">
              
              <li><a href="/a/zhishi/jishu/">技术知识</a></li>
              
              <li><a href="/a/zhishi/wenti/">常见问题</a></li>
              
              <li><a href="/a/zhishi/fangan/">解决方案</a></li>
              
            </ul>
          </li>
        </ul>
        </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="main">
<div class="in-cont  w1200 cl">
  <div class="mn">
    <div class="article">
      <h1>krpano上传多张大图时切图过程无响应分析</h1>
      <div class="info"> <em>2018-09-07 </em> <em>栏目：<a href="" title="行业新闻" rel="category tag">行业新闻</a> </em> <em>查看(<script src="/plus/count.php?view=yes&aid=16&mid=1" type='text/javascript' language="javascript"></script>)</em> <em></em> </div>
      <div class="cont">
        <div>
	随着互联网技术及基础设施的发展，很多以前想想都觉得奢侈的场景应用现在都变得非常日常了，比如视频直播、短视频、VR全景等等。就VR全景而已，最近今年在国内的应用非常火，比如VR看房、VR游览景区等等。</div>
<div>
	&nbsp;</div>
<div>
	在国内，很多VR全景产品的处理引擎都是基于外国友人写的krpano这套软件，然后在应用层面使用不同的开发技能与工具加上扩展的功能模块。就目前我们参与过的VR项目，底层核心部分的处理引擎都是采用krpano。基于krpano的全景项目我们开发了数个，目前就遇到了一个极端情况下的问题。</div>
<div>
	&nbsp;</div>
<div>
	x01问题</div>
<div>
	&nbsp;</div>
<div>
	用户反馈：一次性上传20张20MB左右图片；上传采用阿里云OSS，是没有问题的，然而上传成功后在等待切图的时候，一直卡住不动了。而上传较少的图片（哪怕图片超过100MB）或者较多图片每张图片很小都可以上传并切图完成。</div>
<div>
	&nbsp;</div>
<div>
	x02分析</div>
<div>
	&nbsp;</div>
<div>
	到了切图流程说明图片肯定是上传成功的，因为采用第三方存储的架构项目，全景图片处理的基本流程是：上传原图到阿里云OSS&ndash;&gt;服务端从阿里云OSS通过CDN获取图片（也可以直接一步到位传到服务器本地）&ndash;&gt;krpano切图并在服务器临时存储或永久存储&ndash;&gt;切图生成的图片上传到OSS，并在并在数据库记录各个图片路径&ndash;&gt;通过krpano算法组合图片生成我们看到的全景。</div>
<div>
	&nbsp;</div>
<div>
	于是，图片上传接口肯定是正常的，不管图片是直接上传到服务器本地还是先上传到阿里OSS这类第三方存储云平台；而且切图接口返回也是正常的，也就是说明切图流程已经开始执行了；再者开发的时候由于考虑这种场景下上传及切图处理时间肯定不会太短，所以做了一个心跳处理，而且该接口也是正常的。</div>

      </div>
      <style>

	.view-qrocde{ width:450px; margin: 20px auto ;padding: 15px;border:1px #eee solid; border-width: 1px 0; }

	.view-qrocde .m{ width: 100px; margin-right: 15px;}

	.view-qrocde .m img{ width: 100%; height: 100px; vertical-align: middle;}

	.view-qrocde h6{ height: 30px; line-height: 30px; font-weight: normal; font-size: 16px;}

	.view-qrocde p{height:25px; line-height: 25px; overflow: hidden; font-size: 13px; color: #999;}

</style>
      <div class="view-qrocde cl">
        <div class="m z"><img src="/style/images/ew.jpg"/></div>
        <div class="text">
          <h6>扫二维码与项目经理沟通</h6>
          <p>我们在微信上24小时期待你的声音</p>
          <p>解答本文疑问/技术咨询/运营咨询/技术建议/互联网交流</p>
        </div>
      </div>
      <div class="copy">郑重申明：AB模版网工作室以外的任何单位或个人，不得使用该案例作为工作成功展示！</div>
      <div class="relatedposts">
        <h3><span>相关推荐</span></h3>
        <ul class="cl">
          <li><a href="/a/news/hyxw/20.html" rel="bookmark" title="一份靠谱的PRD文档，需要注重哪些细节？">一份靠谱的PRD文档，需要注重哪些细节？</a></li>
<li><a href="/a/news/hyxw/19.html" rel="bookmark" title="不是百度，不是谷歌">不是百度，不是谷歌</a></li>
<li><a href="/a/news/hyxw/18.html" rel="bookmark" title="从四大层面看水滴筹合并轻松筹的可能性">从四大层面看水滴筹合并轻松筹的可能性</a></li>
<li><a href="/a/news/hyxw/17.html" rel="bookmark" title="网站制作及设计开发加上传，域名申请这些大概">网站制作及设计开发加上传，域名申请这些大概</a></li>
<li><a href="/a/news/hyxw/16.html" rel="bookmark" title="krpano上传多张大图时切图过程无响应分析">krpano上传多张大图时切图过程无响应分析</a></li>

        </ul>
      </div>
    </div>
  </div>
  
  <!-- #mn -->
  
  <div class="sidebar">
    <div class="tuijian"> <a href="/a/news/hyxw/20.html">
      <h2 class="cl"><span>行业新闻</span></h2>
      <h3>一份靠谱的PRD文档，需要注重哪些细节？</h3>
      <p>PRD文档很见产品经理的基本功。好的PRD文档开发人员阅读起来如沐清风，手脚麻利，干活利索。延期？不存在的！ 一份考虑不够周全的PRD文档，让开发人员二丈摸不到头脑，在需求评审...</p>
      </a>
</div>
    <div class="ser sidesub">
      <h2>服务项目</h2>
      <ul class="ebox">
        <li class="sub sub-1">
          <div>
            <h3>网站建设</h3>
            <p>企业网站、购物商城、行业门户、社区论坛、政府/事业单位等网站定制开发！</p>
            <a class="btn" href="/a/service/">查看详情</a> </div>
        </li>
        <li class="sub sub-2">
          <div>
            <h3>移动端/APP</h3>
            <p>手机网站、原生APP、API开发、H5单页等移动终端产品定制开发！</p>
            <a class="btn" href="/a/service/">查看详情</a> </div>
        </li>
        <li class="sub sub-3">
          <div>
            <h3>微信/小程序</h3>
            <p>基于微信/小程序模板消息、微信支付等开放组件及接口开发各类微信场景应用！</p>
            <a class="btn" href="/a/service/">查看详情</a> </div>
        </li>
        <li class="sub sub-4">
          <div>
            <h3>技术支持</h3>
            <p>技术支援、安全防护、模板定制、插件定制、技术方案等技术支持服务</p>
            <a class="btn" href="/a/service/">查看详情</a> </div>
        </li>
        <li class="sub sub-5">
          <div>
            <h3>更多服务项目</h3>
            <p> <a>用我们的专业和诚信赢得您的信赖，从PC到移动互联网均有您想要的服务！</a></p>
            <a class="btn" href="/a/service/">获取更多</a> </div>
        </li>
      </ul>
    </div>
    <div class="contact" id="fix">
      <h2 class="cl"> <span>联系吧</span>  </h2>
      <h3>电话：4008-888-888</h3>
      <p>如遇占线或暂未接听请拨：13588888888</p>
      <div class="qq"> <a href="//wpa.qq.com/msgrd?v=3&uin=9490489&site=qq&menu=yes" rel="nofollow" target="_blank">业务咨询</a> <a href="//wpa.qq.com/msgrd?v=3&uin=9490489&site=qq&menu=yes" rel="nofollow" target="_blank">技术咨询</a> <a href="//wpa.qq.com/msgrd?v=3&uin=9490489&site=qq&menu=yes" rel="nofollow"  target="_blank">售后服务</a> </div>
    </div>
  </div>
  <script>

//固定滚动

(function(){

var oDiv=document.getElementById("fix");

var H=120,iE6;

var Y=oDiv;

while(Y){H+=Y.offsetTop;Y=Y.offsetParent};

iE6=window.ActiveXObject&&!window.XMLHttpRequest;

if(!iE6){

window.onscroll=function()

{

var s=document.body.scrollTop||document.documentElement.scrollTop;

if(s>H){oDiv.className="contact  fixed";if(iE6){oDiv.style.top=(s-H)+"px";}}

else{oDiv.className="contact ";}	

};

}



})();

</script> 
</div>
</div>
<div class="footer">
  <div class="wp">
    <div class="wps cl">
      <dl class="about">
        <dt>新闻中心</dt>
        
        <dd><a href="/a/news/gsxw/"  title="公司新闻" >公司新闻</a></dd>
        
        <dd><a href="/a/news/hyxw/"  title="行业新闻" >行业新闻</a></dd>
        
      </dl>
      <dl class="solution">
        <dt>作品案例</dt>
        
        <dd><a href="/a/work/wzjs/"  title="网站建设" >网站建设</a></dd>
        
        <dd><a href="/a/work/yxcb/"  title="营销传播" >营销传播</a></dd>
        
        <dd><a href="/a/work/xxcl/"  title="形象策略" >形象策略</a></dd>
        
        <dd><a href="/a/work/yxdp/"  title="影像大片" >影像大片</a></dd>
        
      </dl>
      <dl class="contact">
        <dt>联系我们</dt>
        <dd>电话：4008-888-888</dd>
        <dd>邮箱：9490489@qq.com</dd>
        <dd>地址：江苏省南京市玄武区玄武湖</dd>
        <dd>手机：13588888888</dd>
      </dl>
      <dl class="flow">
        <dt></dt>
        <div class="ma cl">
          <div class="m"> <img src="/style/images/ew.jpg"/>
            <p>微信二维码</p>
          </div>
        </div>
      </dl>
    </div>
  </div>
  <div class="footer-link wp">
    <ul class="wps cl">
      <li class="fisrt">友情链接</li>
      <li><a href='http://www.adminbuy.cn/' target='_blank'>模版下载</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>响应式网站模版</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>织梦模板</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>网站源码</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>企业网站模板</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>模板王</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>营销型网站模板</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>手机网站模版</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>dedecms模版</a> </li><li><a href='http://fang.adminbuy.cn/' target='_blank'>仿站</a> </li><li><a href='http://www.adminbuy.cn/' target='_blank'>discuz模版</a> </li><li><a href='http://sc.adminbuy.cn/' target='_blank'>图标下载</a> </li>
    </ul>
  </div>
</div>
<div  class="bot-footer" >
  <div class="wp">
    <p class="wps"> <em>Copyright © 2002-2018 AB模版网 版权所有</em> <em><a href="http://www.miibeian.gov.cn/" rel="external nofollow">苏ICP12345678</a></em></p>
  </div>
</div>
<div class="footer-kefu">
  <ul>
    <li class="qq"><a href="https://wpa.qq.com/msgrd?v=3&uin=9490489&site=qq&menu=yes"><em></em>在线咨询</a></li>
    <li class="tel"><a href="JavaScript:"><em></em>4008-888-888</a></li>
    <li class="wx"> <em></em>
      <div class="code"> <img src="/style/images/ew.jpg"/>
        <p>微信二维码</p>
      </div>
    </li>
    <li class="m"> <em></em>
      <div class="code"> <img src="/style/images/ew.jpg"/>
        <p>移动版官网</p>
      </div>
    </li>
    <li class="top"><em></em></li>
  </ul>
</div>
<script src="/style/js/all.js"></script> 
<script src="/style/js/all.js"></script>
</body>
</html>